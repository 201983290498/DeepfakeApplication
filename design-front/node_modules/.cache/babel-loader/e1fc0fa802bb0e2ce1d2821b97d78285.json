{"ast":null,"code":"const fileReader = new FileReader();\nexport default {\n  name: 'ServiceUpload',\n  data() {\n    return {\n      filename: 'dsa'\n    };\n  },\n  methods: {\n    openWindow: () => {\n      document.getElementById('importFile').click();\n      this.$set(this.filename, 'dsadsa');\n    },\n    openFile: event => {\n      const file = event.target.files[0];\n      console.log('files', file);\n      fileReader.readAsDataURL(file);\n      fileReader.addEventListener('load', event => {\n        console.log(event.target.result);\n      });\n    }\n  },\n  mounted: () => {\n    const fn = function (event) {\n      const file = event.target.files[0];\n      this.filename = file.name;\n      console.log('files', file);\n      fileReader.readAsDataURL(file);\n      fileReader.addEventListener('load', event => {\n        console.log(event.target.result);\n      });\n      console.log(this.filename);\n    };\n    const fileUploader = document.getElementById('importFile');\n    fileUploader.addEventListener('change', fn);\n  }\n};","map":{"version":3,"mappings":"AAuBA;AACA;EACAA;EACAC;IACA;MACAC;IACA;EACA;EACAC;IACAC;MACAC;MACA;IACA;IACAC;MACA;MACAC;MACAC;MACAA;QACAD;MACA;IACA;EACA;EACAE;IACA;MACA;MACA;MACAF;MACAC;MACAA;QACAD;MACA;MACAA;IACA;IACA;IACAG;EACA;AACA","names":["name","data","filename","methods","openWindow","document","openFile","console","fileReader","mounted","fileUploader"],"sourceRoot":"src/components","sources":["ServiceUpload.vue"],"sourcesContent":["<template>\r\n  <div class=\"service-upload\">\r\n<!--输入框1-->\r\n    <div class=\"inb upload-input\">\r\n      <div class=\"inb input-box\">\r\n        <input id=\"filePath\" v-model=\"filename\" placeholder=\"请输入文件路径\"/>\r\n        {{filename}}\r\n      </div>\r\n      <div class=\"inb input-btn\" @click=\"openWindow\">\r\n        <span style=\"display: inline-block;\">本地上传</span>\r\n      </div>\r\n    </div>\r\n<!--上传按钮2-->\r\n    <div class=\"inb upload-btn\">\r\n      <div class=\"detect-btn\">\r\n        <span>检测</span>\r\n      </div>\r\n    </div>\r\n    <input type=\"file\" id=\"importFile\" v-show=\"false\">\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nconst fileReader = new FileReader()\r\nexport default {\r\n  name: 'ServiceUpload',\r\n  data () {\r\n    return {\r\n      filename: 'dsa'\r\n    }\r\n  },\r\n  methods: {\r\n    openWindow: () => {\r\n      document.getElementById('importFile').click()\r\n      this.$set(this.filename, 'dsadsa')\r\n    },\r\n    openFile: (event) => {\r\n      const file = event.target.files[0]\r\n      console.log('files', file)\r\n      fileReader.readAsDataURL(file)\r\n      fileReader.addEventListener('load', (event) => {\r\n        console.log(event.target.result)\r\n      })\r\n    }\r\n  },\r\n  mounted: () => {\r\n    const fn = function (event) {\r\n      const file = event.target.files[0]\r\n      this.filename = file.name\r\n      console.log('files', file)\r\n      fileReader.readAsDataURL(file)\r\n      fileReader.addEventListener('load', (event) => {\r\n        console.log(event.target.result)\r\n      })\r\n      console.log(this.filename)\r\n    }\r\n    const fileUploader = document.getElementById('importFile')\r\n    fileUploader.addEventListener('change', fn)\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.service-upload{\r\n  height: 40px;\r\n  padding: 3px 0;\r\n  text-align:left;\r\n  font-size: 16px;\r\n}\r\n.inb{\r\n  display: inline-block;\r\n}\r\n.upload-input{\r\n  width: 78%;\r\n  margin-right:2%;\r\n  padding-left: 20px;\r\n}\r\n.input-btn{\r\n  background-color: #007FF5;\r\n  height: 35px;\r\n  width: 20%;\r\n  float: right;\r\n  color: #fff;\r\n  font-weight: bold;\r\n  border-bottom-right-radius: 17px;\r\n  border-top-right-radius: 17px;\r\n}\r\n/*输入框的外围*/\r\n.input-box{\r\n  border-bottom-left-radius:18px;\r\n  border-top-left-radius:18px;\r\n  border: 2px solid #A1AFD2;\r\n  height: 35px;\r\n  width:80%;\r\n  color: #43485C;\r\n  background-color: #fff;\r\n}\r\n/*实际的输入框*/\r\n.input-box input{\r\n  width:90%;\r\n  margin-top:4px;\r\n  margin-left: 20px;\r\n  border-style: none;\r\n}\r\n\r\n/*文字框，控制文字的位置*/\r\n.input-btn span{\r\n  display: block;\r\n  margin-top: 6px;\r\n  margin-left: 20%;\r\n}\r\n.input-btn span:hover{\r\n  cursor: pointer;\r\n}\r\n.upload-btn{\r\n   width: 18%;\r\n  margin-top: -20px;\r\n}\r\n.detect-btn{\r\n  width: 130px;\r\n  height: 35px;\r\n  text-align: center;\r\n  background-color: #007FF5;\r\n  color: #fff;\r\n  border-radius: 17px;\r\n  font-weight: bold;\r\n  margin-left: 40px;\r\n}\r\n.detect-btn:hover{\r\n  cursor: pointer;\r\n}\r\n.detect-btn span{\r\n  display: inline-block;\r\n  margin-top: 6px;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}